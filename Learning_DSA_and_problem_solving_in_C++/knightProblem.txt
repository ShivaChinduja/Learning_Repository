#include<iostream>
#include<vector>
#include<algorithm>
#define N 5
using namespace std;

vector<int> xmove = {-2,-2,2,2,1,1,-1,-1};
vector<int> ymove = {1,-1,1,-1,2,-2,2,-2};
vector<vector<int>>board (N , vector<int>(N, -1));
bool issafe(int nx , int ny , int n){
    return(nx>=0 && nx <n && ny>=0 && ny<n && board[nx][ny] == -1);
}
bool solveNknight( int x ,int y ,int step){
    if(step == N*N){
        for(auto i:board){
            for(auto j:i){
                cout << j << " ";
            }
            cout << endl;
        }
        return true;
    } 
    for(int i=0;i< 8;i++){
        int nx = x+xmove[i];
        int ny = y+ymove[i];
        if(issafe(nx , ny , N)){
            board[nx][ny] = step;
            if(solveNknight(nx , ny,step+1)){
                return true;
            }
            board[nx][ny] = -1;
        }
        
    }
    return false;
}

int main(){
    
    
    board[0][0] = 0;
    if(!solveNknight( 0,0,1)){
        cout << "solution doesnot exists";
    }
    
    return 0;
}